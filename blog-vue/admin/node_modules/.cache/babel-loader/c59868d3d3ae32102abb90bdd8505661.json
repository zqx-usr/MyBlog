{"remainingRequest":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\babel-loader\\lib\\index.js!B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!B:\\GitCode\\MyBlog\\blog-vue\\admin\\src\\views\\website\\Website.vue?vue&type=script&lang=js&","dependencies":[{"path":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\src\\views\\website\\Website.vue","mtime":1678087978037},{"path":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678087962812},{"path":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1678087961674},{"path":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678087962812},{"path":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1678087976619}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCAqIGFzIGltYWdlQ29udmVyc2lvbiBmcm9tICJpbWFnZS1jb252ZXJzaW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFdlYnNpdGVDb25maWcoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB3ZWJzaXRlQ29uZmlnRm9ybTogewogICAgICAgIHdlYnNpdGVBdmF0YXI6ICIiLAogICAgICAgIHdlYnNpdGVOYW1lOiAiIiwKICAgICAgICB3ZWJzaXRlQXV0aG9yOiAiIiwKICAgICAgICB3ZWJzaXRlSW50cm86ICIiLAogICAgICAgIHdlYnNpdGVOb3RpY2U6ICIiLAogICAgICAgIHdlYnNpdGVDcmVhdGVUaW1lOiBudWxsLAogICAgICAgIHdlYnNpdGVSZWNvcmRObzogIiIsCiAgICAgICAgc29jaWFsTG9naW5MaXN0OiBbXSwKICAgICAgICBzb2NpYWxVcmxMaXN0OiBbXSwKICAgICAgICBxcTogIiIsCiAgICAgICAgZ2l0aHViOiAiIiwKICAgICAgICBnaXRlZTogIiIsCiAgICAgICAgdXNlckF2YXRhcjogIiIsCiAgICAgICAgdG91cmlzdEF2YXRhcjogIiIsCiAgICAgICAgaXNSZXdhcmQ6IDEsCiAgICAgICAgd2VpWGluUVJDb2RlOiAiIiwKICAgICAgICBhbGlwYXlRUkNvZGU6ICIiLAogICAgICAgIGFydGljbGVDb3ZlcjogIiIsCiAgICAgICAgaXNDaGF0Um9vbTogMSwKICAgICAgICB3ZWJzb2NrZXRVcmw6ICIiLAogICAgICAgIGlzTXVzaWNQbGF5ZXI6IDEsCiAgICAgICAgaXNFbWFpbE5vdGljZTogMSwKICAgICAgICBpc0NvbW1lbnRSZXZpZXc6IDAsCiAgICAgICAgaXNNZXNzYWdlUmV2aWV3OiAwCiAgICAgIH0sCiAgICAgIGFjdGl2ZU5hbWU6ICJpbmZvIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFdlYnNpdGVDb25maWc6IGZ1bmN0aW9uIGdldFdlYnNpdGVDb25maWcoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLmdldCgiL2FwaS9hZG1pbi93ZWJzaXRlL2NvbmZpZyIpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgICBfdGhpcy53ZWJzaXRlQ29uZmlnRm9ybSA9IGRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgYmVmb3JlVXBsb2FkOiBmdW5jdGlvbiBiZWZvcmVVcGxvYWQoZmlsZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIGlmIChmaWxlLnNpemUgLyAxMDI0IDwgX3RoaXMyLmNvbmZpZy5VUExPQURfU0laRSkgewogICAgICAgICAgcmVzb2x2ZShmaWxlKTsKICAgICAgICB9IC8vIOWOi+e8qeWIsDIwMEtCLOi/memHjOeahDIwMOWwseaYr+imgeWOi+e8qeeahOWkp+Wwjyzlj6/oh6rlrprkuYkKCgogICAgICAgIGltYWdlQ29udmVyc2lvbi5jb21wcmVzc0FjY3VyYXRlbHkoZmlsZSwgX3RoaXMyLmNvbmZpZy5VUExPQURfU0laRSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICByZXNvbHZlKHJlcyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDbGljayh0YWIpIHsKICAgICAgY29uc29sZS5sb2codGFiKTsKICAgIH0sCiAgICBoYW5kbGVXZWJzaXRlQXZhdGFyU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlV2Vic2l0ZUF2YXRhclN1Y2Nlc3MocmVzcG9uc2UpIHsKICAgICAgdGhpcy53ZWJzaXRlQ29uZmlnRm9ybS53ZWJzaXRlQXZhdGFyID0gcmVzcG9uc2UuZGF0YTsKICAgIH0sCiAgICBoYW5kbGVVc2VyQXZhdGFyU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlVXNlckF2YXRhclN1Y2Nlc3MocmVzcG9uc2UpIHsKICAgICAgdGhpcy53ZWJzaXRlQ29uZmlnRm9ybS51c2VyQXZhdGFyID0gcmVzcG9uc2UuZGF0YTsKICAgIH0sCiAgICBoYW5kbGVBcnRpY2xlQ292ZXJTdWNjZXNzOiBmdW5jdGlvbiBoYW5kbGVBcnRpY2xlQ292ZXJTdWNjZXNzKHJlc3BvbnNlKSB7CiAgICAgIHRoaXMud2Vic2l0ZUNvbmZpZ0Zvcm0uYXJ0aWNsZUNvdmVyID0gcmVzcG9uc2UuZGF0YTsKICAgIH0sCiAgICBoYW5kbGVUb3VyaXN0QXZhdGFyU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlVG91cmlzdEF2YXRhclN1Y2Nlc3MocmVzcG9uc2UpIHsKICAgICAgdGhpcy53ZWJzaXRlQ29uZmlnRm9ybS50b3VyaXN0QXZhdGFyID0gcmVzcG9uc2UuZGF0YTsKICAgIH0sCiAgICBoYW5kbGVXZWlYaW5TdWNjZXNzOiBmdW5jdGlvbiBoYW5kbGVXZWlYaW5TdWNjZXNzKHJlc3BvbnNlKSB7CiAgICAgIHRoaXMud2Vic2l0ZUNvbmZpZ0Zvcm0ud2VpWGluUVJDb2RlID0gcmVzcG9uc2UuZGF0YTsKICAgIH0sCiAgICBoYW5kbGVBbGlwYXlTdWNjZXNzOiBmdW5jdGlvbiBoYW5kbGVBbGlwYXlTdWNjZXNzKHJlc3BvbnNlKSB7CiAgICAgIHRoaXMud2Vic2l0ZUNvbmZpZ0Zvcm0uYWxpcGF5UVJDb2RlID0gcmVzcG9uc2UuZGF0YTsKICAgIH0sCiAgICB1cGRhdGVXZWJzaXRlQ29uZmlnOiBmdW5jdGlvbiB1cGRhdGVXZWJzaXRlQ29uZmlnKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MucHV0KCIvYXBpL2FkbWluL3dlYnNpdGUvY29uZmlnIiwgdGhpcy53ZWJzaXRlQ29uZmlnRm9ybSkudGhlbihmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7CgogICAgICAgIGlmIChkYXRhLmZsYWcpIHsKICAgICAgICAgIF90aGlzMy4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgICB0aXRsZTogIuaIkOWKnyIsCiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgdGl0bGU6ICLlpLHotKUiLAogICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Website.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-card class=\"main-card\">\r\n    <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n      <!-- 修改信息 -->\r\n      <el-tab-pane label=\"网站信息\" name=\"info\">\r\n        <el-form\r\n          label-width=\"100px\"\r\n          :model=\"websiteConfigForm\"\r\n          label-position=\"left\"\r\n        >\r\n          <el-form-item label=\"网站头像\">\r\n            <el-upload\r\n              class=\"avatar-uploader\"\r\n              action=\"/api/admin/config/images\"\r\n              :show-file-list=\"false\"\r\n              :on-success=\"handleWebsiteAvatarSuccess\"\r\n            >\r\n              <img\r\n                v-if=\"websiteConfigForm.websiteAvatar\"\r\n                :src=\"websiteConfigForm.websiteAvatar\"\r\n                class=\"avatar\"\r\n              />\r\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\r\n            </el-upload>\r\n          </el-form-item>\r\n          <el-form-item label=\"网站名称\">\r\n            <el-input\r\n              v-model=\"websiteConfigForm.websiteName\"\r\n              size=\"small\"\r\n              style=\"width:400px\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"网站作者\">\r\n            <el-input\r\n              v-model=\"websiteConfigForm.websiteAuthor\"\r\n              size=\"small\"\r\n              style=\"width:400px\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"网站简介\">\r\n            <el-input\r\n              v-model=\"websiteConfigForm.websiteIntro\"\r\n              size=\"small\"\r\n              style=\"width:400px\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"网站创建日期\">\r\n            <el-date-picker\r\n              style=\"width:400px\"\r\n              value-format=\"yyyy-MM-dd\"\r\n              v-model=\"websiteConfigForm.websiteCreateTime\"\r\n              type=\"date\"\r\n              placeholder=\"选择日期\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"网站公告\">\r\n            <el-input\r\n              v-model=\"websiteConfigForm.websiteNotice\"\r\n              placeholder=\"请输入公告内容\"\r\n              style=\"width:400px\"\r\n              type=\"textarea\"\r\n              :rows=\"5\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"备案号\">\r\n            <el-input\r\n              v-model=\"websiteConfigForm.websiteRecordNo\"\r\n              size=\"small\"\r\n              style=\"width:400px\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"第三方登录\">\r\n            <el-checkbox-group v-model=\"websiteConfigForm.socialLoginList\">\r\n              <el-checkbox label=\"qq\">QQ</el-checkbox>\r\n            </el-checkbox-group>\r\n          </el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            size=\"medium\"\r\n            style=\"margin-left:6.3rem\"\r\n            @click=\"updateWebsiteConfig\"\r\n          >\r\n            修改\r\n          </el-button>\r\n        </el-form>\r\n      </el-tab-pane>\r\n      <!-- 网站公告 -->\r\n      <el-tab-pane label=\"社交信息\" name=\"notice\">\r\n        <el-form label-width=\"70px\" :model=\"websiteConfigForm\">\r\n          <el-checkbox-group v-model=\"websiteConfigForm.socialUrlList\">\r\n            <el-form-item label=\"QQ\">\r\n              <el-input\r\n                v-model=\"websiteConfigForm.qq\"\r\n                size=\"small\"\r\n                style=\"width:400px;margin-right:1rem\"\r\n              />\r\n              <el-checkbox label=\"qq\">展示</el-checkbox>\r\n            </el-form-item>\r\n            <el-form-item label=\"Github\">\r\n              <el-input\r\n                v-model=\"websiteConfigForm.github\"\r\n                size=\"small\"\r\n                style=\"width:400px;margin-right:1rem\"\r\n              />\r\n              <el-checkbox label=\"github\">展示</el-checkbox>\r\n            </el-form-item>\r\n            <el-form-item label=\"Gitee\">\r\n              <el-input\r\n                v-model=\"websiteConfigForm.gitee\"\r\n                size=\"small\"\r\n                style=\"width:400px;margin-right:1rem\"\r\n              />\r\n              <el-checkbox label=\"gitee\">展示</el-checkbox>\r\n            </el-form-item>\r\n            <el-button\r\n              type=\"primary\"\r\n              size=\"medium\"\r\n              style=\"margin-left:4.375rem\"\r\n              @click=\"updateWebsiteConfig\"\r\n            >\r\n              修改\r\n            </el-button>\r\n          </el-checkbox-group>\r\n        </el-form>\r\n      </el-tab-pane>\r\n      <!-- 修改密码 -->\r\n      <el-tab-pane label=\"其他设置\" name=\"password\">\r\n        <el-form\r\n          label-width=\"120px\"\r\n          :model=\"websiteConfigForm\"\r\n          label-position=\"left\"\r\n        >\r\n          <el-row style=\"width:600px\">\r\n            <el-col :md=\"12\">\r\n              <el-form-item label=\"用户头像\">\r\n                <el-upload\r\n                  class=\"avatar-uploader\"\r\n                  action=\"/api/admin/config/images\"\r\n                  :show-file-list=\"false\"\r\n                  :on-success=\"handleUserAvatarSuccess\"\r\n                >\r\n                  <img\r\n                    v-if=\"websiteConfigForm.userAvatar\"\r\n                    :src=\"websiteConfigForm.userAvatar\"\r\n                    class=\"avatar\"\r\n                  />\r\n                  <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\r\n                </el-upload>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :md=\"12\">\r\n              <el-form-item label=\"游客头像\">\r\n                <el-upload\r\n                  class=\"avatar-uploader\"\r\n                  action=\"/api/admin/config/images\"\r\n                  :show-file-list=\"false\"\r\n                  :on-success=\"handleTouristAvatarSuccess\"\r\n                >\r\n                  <img\r\n                    v-if=\"websiteConfigForm.touristAvatar\"\r\n                    :src=\"websiteConfigForm.touristAvatar\"\r\n                    class=\"avatar\"\r\n                  />\r\n                  <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\r\n                </el-upload>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-form-item label=\"默认文章封面\">\r\n            <el-upload\r\n              class=\"cover-uploader\"\r\n              action=\"/api/admin/config/images\"\r\n              :before-upload=\"beforeUpload\"\r\n              :show-file-list=\"false\"\r\n              :on-success=\"handleArticleCoverSuccess\"\r\n            >\r\n              <img\r\n                v-if=\"websiteConfigForm.articleCover\"\r\n                :src=\"websiteConfigForm.articleCover\"\r\n                class=\"cover\"\r\n              />\r\n              <i v-else class=\"el-icon-plus cover-uploader-icon\" />\r\n            </el-upload>\r\n          </el-form-item>\r\n          <el-form-item label=\"邮箱通知\">\r\n            <el-radio-group v-model=\"websiteConfigForm.isEmailNotice\">\r\n              <el-radio :label=\"0\">关闭</el-radio>\r\n              <el-radio :label=\"1\">开启</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-form-item label=\"评论审核\">\r\n            <el-radio-group v-model=\"websiteConfigForm.isCommentReview\">\r\n              <el-radio :label=\"0\">关闭</el-radio>\r\n              <el-radio :label=\"1\">开启</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-form-item label=\"留言审核\">\r\n            <el-radio-group v-model=\"websiteConfigForm.isMessageReview\">\r\n              <el-radio :label=\"0\">关闭</el-radio>\r\n              <el-radio :label=\"1\">开启</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-form-item label=\"打赏状态\">\r\n            <el-radio-group v-model=\"websiteConfigForm.isReward\">\r\n              <el-radio :label=\"0\">关闭</el-radio>\r\n              <el-radio :label=\"1\">开启</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-row style=\"width:600px\" v-show=\"websiteConfigForm.isReward == 1\">\r\n            <el-col :md=\"12\">\r\n              <el-form-item label=\"微信收款码\">\r\n                <el-upload\r\n                  class=\"avatar-uploader\"\r\n                  action=\"/api/admin/config/images\"\r\n                  :show-file-list=\"false\"\r\n                  :on-success=\"handleWeiXinSuccess\"\r\n                >\r\n                  <img\r\n                    v-if=\"websiteConfigForm.weiXinQRCode\"\r\n                    :src=\"websiteConfigForm.weiXinQRCode\"\r\n                    class=\"avatar\"\r\n                  />\r\n                  <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\r\n                </el-upload>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :md=\"12\">\r\n              <el-form-item label=\"支付宝收款码\">\r\n                <el-upload\r\n                  class=\"avatar-uploader\"\r\n                  action=\"/api/admin/config/images\"\r\n                  :show-file-list=\"false\"\r\n                  :on-success=\"handleAlipaySuccess\"\r\n                >\r\n                  <img\r\n                    v-if=\"websiteConfigForm.alipayQRCode\"\r\n                    :src=\"websiteConfigForm.alipayQRCode\"\r\n                    class=\"avatar\"\r\n                  />\r\n                  <i v-else class=\"el-icon-plus avatar-uploader-icon\" />\r\n                </el-upload>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-form-item label=\"聊天室状态\">\r\n            <el-radio-group v-model=\"websiteConfigForm.isChatRoom\">\r\n              <el-radio :label=\"0\">关闭</el-radio>\r\n              <el-radio :label=\"1\">开启</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"Websocket地址\"\r\n            v-show=\"websiteConfigForm.isChatRoom == 1\"\r\n          >\r\n            <el-input\r\n              v-model=\"websiteConfigForm.websocketUrl\"\r\n              size=\"small\"\r\n              style=\"width:400px\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"音乐播放器状态\">\r\n            <el-radio-group v-model=\"websiteConfigForm.isMusicPlayer\">\r\n              <el-radio :label=\"0\">关闭</el-radio>\r\n              <el-radio :label=\"1\">开启</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            size=\"medium\"\r\n            style=\"margin-left:6.3rem\"\r\n            @click=\"updateWebsiteConfig\"\r\n          >\r\n            修改\r\n          </el-button>\r\n        </el-form>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport * as imageConversion from \"image-conversion\";\r\nexport default {\r\n  created() {\r\n    this.getWebsiteConfig();\r\n  },\r\n  data: function() {\r\n    return {\r\n      websiteConfigForm: {\r\n        websiteAvatar: \"\",\r\n        websiteName: \"\",\r\n        websiteAuthor: \"\",\r\n        websiteIntro: \"\",\r\n        websiteNotice: \"\",\r\n        websiteCreateTime: null,\r\n        websiteRecordNo: \"\",\r\n        socialLoginList: [],\r\n        socialUrlList: [],\r\n        qq: \"\",\r\n        github: \"\",\r\n        gitee: \"\",\r\n        userAvatar: \"\",\r\n        touristAvatar: \"\",\r\n        isReward: 1,\r\n        weiXinQRCode: \"\",\r\n        alipayQRCode: \"\",\r\n        articleCover: \"\",\r\n        isChatRoom: 1,\r\n        websocketUrl: \"\",\r\n        isMusicPlayer: 1,\r\n        isEmailNotice: 1,\r\n        isCommentReview: 0,\r\n        isMessageReview: 0\r\n      },\r\n      activeName: \"info\"\r\n    };\r\n  },\r\n  methods: {\r\n    getWebsiteConfig() {\r\n      this.axios.get(\"/api/admin/website/config\").then(({ data }) => {\r\n        this.websiteConfigForm = data.data;\r\n      });\r\n    },\r\n    beforeUpload(file) {\r\n      return new Promise(resolve => {\r\n        if (file.size / 1024 < this.config.UPLOAD_SIZE) {\r\n          resolve(file);\r\n        }\r\n        // 压缩到200KB,这里的200就是要压缩的大小,可自定义\r\n        imageConversion\r\n          .compressAccurately(file, this.config.UPLOAD_SIZE)\r\n          .then(res => {\r\n            resolve(res);\r\n          });\r\n      });\r\n    },\r\n    handleClick(tab) {\r\n      console.log(tab);\r\n    },\r\n    handleWebsiteAvatarSuccess(response) {\r\n      this.websiteConfigForm.websiteAvatar = response.data;\r\n    },\r\n    handleUserAvatarSuccess(response) {\r\n      this.websiteConfigForm.userAvatar = response.data;\r\n    },\r\n    handleArticleCoverSuccess(response) {\r\n      this.websiteConfigForm.articleCover = response.data;\r\n    },\r\n    handleTouristAvatarSuccess(response) {\r\n      this.websiteConfigForm.touristAvatar = response.data;\r\n    },\r\n    handleWeiXinSuccess(response) {\r\n      this.websiteConfigForm.weiXinQRCode = response.data;\r\n    },\r\n    handleAlipaySuccess(response) {\r\n      this.websiteConfigForm.alipayQRCode = response.data;\r\n    },\r\n    updateWebsiteConfig() {\r\n      this.axios\r\n        .put(\"/api/admin/website/config\", this.websiteConfigForm)\r\n        .then(({ data }) => {\r\n          if (data.flag) {\r\n            this.$notify.success({\r\n              title: \"成功\",\r\n              message: data.message\r\n            });\r\n          } else {\r\n            this.$notify.error({\r\n              title: \"失败\",\r\n              message: data.message\r\n            });\r\n          }\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 120px;\r\n  height: 120px;\r\n  line-height: 120px;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  width: 120px;\r\n  height: 120px;\r\n  display: block;\r\n}\r\n.cover-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.cover-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.cover-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 300px;\r\n  height: 160px;\r\n  line-height: 160px;\r\n  text-align: center;\r\n}\r\n.cover {\r\n  width: 300px;\r\n  height: 160px;\r\n  display: block;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/website"}]}