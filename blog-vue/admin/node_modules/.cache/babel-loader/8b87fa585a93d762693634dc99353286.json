{"remainingRequest":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\babel-loader\\lib\\index.js!B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\eslint-loader\\index.js??ref--13-0!B:\\GitCode\\MyBlog\\blog-vue\\admin\\src\\assets\\js\\menu.js","dependencies":[{"path":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\src\\assets\\js\\menu.js","mtime":1678087978011},{"path":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678087962812},{"path":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1678087961674},{"path":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\eslint-loader\\index.js","mtime":1678087967722}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IExheW91dCBmcm9tICJAL2xheW91dC9pbmRleC52dWUiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uLy4uL3JvdXRlciI7CmltcG9ydCBzdG9yZSBmcm9tICIuLi8uLi9zdG9yZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYU1lbnUoKSB7CiAgLy8g5p+l6K+i55So5oi36I+c5Y2VCiAgYXhpb3MuZ2V0KCIvYXBpL2FkbWluL3VzZXIvbWVudXMiKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKCiAgICBpZiAoZGF0YS5mbGFnKSB7CiAgICAgIHZhciB1c2VyTWVudUxpc3QgPSBkYXRhLmRhdGE7CiAgICAgIHVzZXJNZW51TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uaWNvbiAhPSBudWxsKSB7CiAgICAgICAgICBpdGVtLmljb24gPSAiaWNvbmZvbnQgIiArIGl0ZW0uaWNvbjsKICAgICAgICB9CgogICAgICAgIGlmIChpdGVtLmNvbXBvbmVudCA9PSAiTGF5b3V0IikgewogICAgICAgICAgaXRlbS5jb21wb25lbnQgPSBMYXlvdXQ7CiAgICAgICAgfQoKICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGl0ZW0uY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHsKICAgICAgICAgICAgcm91dGUuaWNvbiA9ICJpY29uZm9udCAiICsgcm91dGUuaWNvbjsKICAgICAgICAgICAgcm91dGUuY29tcG9uZW50ID0gbG9hZFZpZXcocm91dGUuY29tcG9uZW50KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7IC8vIOa3u+WKoOS+p+i+ueagj+iPnOWNlQoKICAgICAgc3RvcmUuY29tbWl0KCJzYXZlVXNlck1lbnVMaXN0IiwgdXNlck1lbnVMaXN0KTsgLy8g5re75Yqg6I+c5Y2V5Yiw6Lev55SxCgogICAgICByb3V0ZXIuYWRkUm91dGVzKHVzZXJNZW51TGlzdCk7CiAgICB9IGVsc2UgewogICAgICBWdWUucHJvdG90eXBlLiRtZXNzYWdlLmVycm9yKGRhdGEubWVzc2FnZSk7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL2xvZ2luIgogICAgICB9KTsKICAgIH0KICB9KTsKfQpleHBvcnQgdmFyIGxvYWRWaWV3ID0gZnVuY3Rpb24gbG9hZFZpZXcodmlldykgewogIC8vIOi3r+eUseaHkuWKoOi9vQogIHJldHVybiBmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgcmV0dXJuIHJlcXVpcmUoWyJAL3ZpZXdzIi5jb25jYXQodmlldyldLCByZXNvbHZlKTsKICB9Owp9Ow=="},{"version":3,"sources":["B:/GitCode/MyBlog/blog-vue/admin/src/assets/js/menu.js"],"names":["Layout","router","store","axios","Vue","generaMenu","get","then","data","flag","userMenuList","forEach","item","icon","component","children","length","route","loadView","commit","addRoutes","prototype","$message","error","message","push","path","view","resolve","require"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,oBAAnB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AAEA,OAAO,SAASC,UAAT,GAAsB;AAC3B;AACAF,EAAAA,KAAK,CAACG,GAAN,CAAU,uBAAV,EAAmCC,IAAnC,CAAwC,gBAAc;AAAA,QAAXC,IAAW,QAAXA,IAAW;;AACpD,QAAIA,IAAI,CAACC,IAAT,EAAe;AACb,UAAIC,YAAY,GAAGF,IAAI,CAACA,IAAxB;AACAE,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAAAC,IAAI,EAAI;AAC3B,YAAIA,IAAI,CAACC,IAAL,IAAa,IAAjB,EAAuB;AACrBD,UAAAA,IAAI,CAACC,IAAL,GAAY,cAAcD,IAAI,CAACC,IAA/B;AACD;;AACD,YAAID,IAAI,CAACE,SAAL,IAAkB,QAAtB,EAAgC;AAC9BF,UAAAA,IAAI,CAACE,SAAL,GAAiBd,MAAjB;AACD;;AACD,YAAIY,IAAI,CAACG,QAAL,IAAiBH,IAAI,CAACG,QAAL,CAAcC,MAAd,GAAuB,CAA5C,EAA+C;AAC7CJ,UAAAA,IAAI,CAACG,QAAL,CAAcJ,OAAd,CAAsB,UAAAM,KAAK,EAAI;AAC7BA,YAAAA,KAAK,CAACJ,IAAN,GAAa,cAAcI,KAAK,CAACJ,IAAjC;AACAI,YAAAA,KAAK,CAACH,SAAN,GAAkBI,QAAQ,CAACD,KAAK,CAACH,SAAP,CAA1B;AACD,WAHD;AAID;AACF,OAbD,EAFa,CAgBb;;AACAZ,MAAAA,KAAK,CAACiB,MAAN,CAAa,kBAAb,EAAiCT,YAAjC,EAjBa,CAkBb;;AACAT,MAAAA,MAAM,CAACmB,SAAP,CAAiBV,YAAjB;AACD,KApBD,MAoBO;AACLN,MAAAA,GAAG,CAACiB,SAAJ,CAAcC,QAAd,CAAuBC,KAAvB,CAA6Bf,IAAI,CAACgB,OAAlC;AACAvB,MAAAA,MAAM,CAACwB,IAAP,CAAY;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAZ;AACD;AACF,GAzBD;AA0BD;AAED,OAAO,IAAMR,QAAQ,GAAG,SAAXA,QAAW,CAAAS,IAAI,EAAI;AAC9B;AACA,SAAO,UAAAC,OAAO;AAAA,WAAIC,OAAO,CAAC,kBAAWF,IAAX,EAAD,EAAqBC,OAArB,CAAX;AAAA,GAAd;AACD,CAHM","sourcesContent":["import Layout from \"@/layout/index.vue\";\r\nimport router from \"../../router\";\r\nimport store from \"../../store\";\r\nimport axios from \"axios\";\r\nimport Vue from \"vue\";\r\n\r\nexport function generaMenu() {\r\n  // 查询用户菜单\r\n  axios.get(\"/api/admin/user/menus\").then(({ data }) => {\r\n    if (data.flag) {\r\n      var userMenuList = data.data;\r\n      userMenuList.forEach(item => {\r\n        if (item.icon != null) {\r\n          item.icon = \"iconfont \" + item.icon;\r\n        }\r\n        if (item.component == \"Layout\") {\r\n          item.component = Layout;\r\n        }\r\n        if (item.children && item.children.length > 0) {\r\n          item.children.forEach(route => {\r\n            route.icon = \"iconfont \" + route.icon;\r\n            route.component = loadView(route.component);\r\n          });\r\n        }\r\n      });\r\n      // 添加侧边栏菜单\r\n      store.commit(\"saveUserMenuList\", userMenuList);\r\n      // 添加菜单到路由\r\n      router.addRoutes(userMenuList);\r\n    } else {\r\n      Vue.prototype.$message.error(data.message);\r\n      router.push({ path: \"/login\" });\r\n    }\r\n  });\r\n}\r\n\r\nexport const loadView = view => {\r\n  // 路由懒加载\r\n  return resolve => require([`@/views${view}`], resolve);\r\n};\r\n"]}]}