{"remainingRequest":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!B:\\GitCode\\MyBlog\\blog-vue\\admin\\src\\layout\\components\\NavBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\src\\layout\\components\\NavBar.vue","mtime":1678087978015},{"path":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678087962812},{"path":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1678087961674},{"path":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678087962812},{"path":"B:\\GitCode\\MyBlog\\blog-vue\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1678087976619}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyByZXNldFJvdXRlciB9IGZyb20gIi4uLy4uL3JvdXRlciI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGNyZWF0ZWQoKSB7DQogICAgLy/mm7/mjaLpnaLljIXlsZHlr7zoiKoNCiAgICBsZXQgbWF0Y2hlZCA9IHRoaXMuJHJvdXRlLm1hdGNoZWQuZmlsdGVyKGl0ZW0gPT4gaXRlbS5uYW1lKTsNCiAgICBjb25zdCBmaXJzdCA9IG1hdGNoZWRbMF07DQogICAgaWYgKGZpcnN0ICYmIGZpcnN0Lm5hbWUgIT09ICLpppbpobUiKSB7DQogICAgICBtYXRjaGVkID0gW3sgcGF0aDogIi8iLCBuYW1lOiAi6aaW6aG1IiB9XS5jb25jYXQobWF0Y2hlZCk7DQogICAgfQ0KICAgIHRoaXMuYnJlYWRjcnVtYkxpc3QgPSBtYXRjaGVkOw0KICAgIC8v5L+d5a2Y5b2T5YmN6aG15qCH562+DQogICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzYXZlVGFiIiwgdGhpcy4kcm91dGUpOw0KICB9LA0KICBkYXRhOiBmdW5jdGlvbigpIHsNCiAgICByZXR1cm4gew0KICAgICAgaXNTZWFyY2g6IGZhbHNlLA0KICAgICAgZnVsbHNjcmVlbjogZmFsc2UsDQogICAgICBicmVhZGNydW1iTGlzdDogW10NCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ29Ubyh0YWIpIHsNCiAgICAgIC8v6Lez6L2s5qCH562+DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IHRhYi5wYXRoIH0pOw0KICAgIH0sDQogICAgcmVtb3ZlVGFiKHRhYikgew0KICAgICAgLy/liKDpmaTmoIfnrb4NCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgicmVtb3ZlVGFiIiwgdGFiKTsNCiAgICAgIC8v5aaC5p6c5Yig6Zmk55qE5piv5b2T5YmN6aG15YiZ6L+U5Zue5LiK5LiA5qCH562+6aG1DQogICAgICBpZiAodGFiLnBhdGggPT0gdGhpcy4kcm91dGUucGF0aCkgew0KICAgICAgICB2YXIgdGFiTGlzdCA9IHRoaXMuJHN0b3JlLnN0YXRlLnRhYkxpc3Q7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogdGFiTGlzdFt0YWJMaXN0Lmxlbmd0aCAtIDFdLnBhdGggfSk7DQogICAgICB9DQogICAgfSwNCiAgICB0cmlnZ2VyKCkgew0KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ0cmlnZ2VyIik7DQogICAgfSwNCiAgICBoYW5kbGVDb21tYW5kKGNvbW1hbmQpIHsNCiAgICAgIGlmIChjb21tYW5kID09ICJzZXR0aW5nIikgew0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvc2V0dGluZyIgfSk7DQogICAgICB9DQogICAgICBpZiAoY29tbWFuZCA9PSAibG9nb3V0Iikgew0KICAgICAgICAvLyDosIPnlKjms6jplIDmjqXlj6MNCiAgICAgICAgdGhpcy5heGlvcy5wb3N0KCIvYXBpL2xvZ291dCIpOw0KICAgICAgICAvLyDmuIXnqbrnlKjmiLfkv6Hmga8NCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJsb2dvdXQiKTsNCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJyZXNldFRhYiIpOw0KICAgICAgICAvLyDmuIXnqbrnlKjmiLfoj5zljZUNCiAgICAgICAgcmVzZXRSb3V0ZXIoKTsNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL2xvZ2luIiB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGNsb3NlQWxsVGFiKCkgew0KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJyZXNldFRhYiIpOw0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiLyIgfSk7DQogICAgfSwNCiAgICBmdWxsU2NyZWVuKCkgew0KICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7DQogICAgICBpZiAodGhpcy5mdWxsc2NyZWVuKSB7DQogICAgICAgIGlmIChkb2N1bWVudC5leGl0RnVsbHNjcmVlbikgew0KICAgICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7DQogICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlbikgew0KICAgICAgICAgIGRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTsNCiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKSB7DQogICAgICAgICAgZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpOw0KICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pIHsNCiAgICAgICAgICBkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKCk7DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmIChlbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuKSB7DQogICAgICAgICAgZWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbigpOw0KICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4pIHsNCiAgICAgICAgICBlbGVtZW50LndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuKCk7DQogICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5tb3pSZXF1ZXN0RnVsbFNjcmVlbikgew0KICAgICAgICAgIGVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTsNCiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50Lm1zUmVxdWVzdEZ1bGxzY3JlZW4pIHsNCiAgICAgICAgICBlbGVtZW50Lm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy5mdWxsc2NyZWVuID0gIXRoaXMuZnVsbHNjcmVlbjsNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLy/moIfnrb7mmK/lkKblpITkuo7lvZPliY3pobUNCiAgICBpc0FjdGl2ZSgpIHsNCiAgICAgIHJldHVybiBmdW5jdGlvbih0YWIpIHsNCiAgICAgICAgaWYgKHRhYi5wYXRoID09IHRoaXMuJHJvdXRlLnBhdGgpIHsNCiAgICAgICAgICByZXR1cm4gInRhYnMtdmlldy1pdGVtLWFjdGl2ZSI7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuICJ0YWJzLXZpZXctaXRlbSI7DQogICAgICB9Ow0KICAgIH0sDQogICAgaXNGb2xkKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmNvbGxhcHNlID8gImVsLWljb24tcy11bmZvbGQiIDogImVsLWljb24tcy1mb2xkIjsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["NavBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NavBar.vue","sourceRoot":"src/layout/components","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 导航栏 -->\r\n    <div class=\"nav-bar\">\r\n      <!-- 折叠按钮 -->\r\n      <div class=\"hambuger-container\" @click=\"trigger\">\r\n        <i :class=\"isFold\" />\r\n      </div>\r\n      <!-- 面包屑导航 -->\r\n      <el-breadcrumb>\r\n        <el-breadcrumb-item v-for=\"item of breadcrumbList\" :key=\"item.path\">\r\n          <span v-if=\"item.redirect\">{{ item.name }}</span>\r\n          <router-link v-else :to=\"item.path\">{{ item.name }}</router-link>\r\n        </el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n      <!-- 右侧菜单 -->\r\n      <div class=\"right-menu\">\r\n        <!-- 全屏按钮 -->\r\n        <div class=\"screen-full\" @click=\"fullScreen\">\r\n          <i class=\"iconfont el-icon-myicwindowzoom48px\" />\r\n        </div>\r\n        <!-- 用户选项 -->\r\n        <el-dropdown @command=\"handleCommand\">\r\n          <el-avatar :size=\"40\" :src=\"this.$store.state.avatar\" />\r\n          <i class=\"el-icon-caret-bottom\" />\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item command=\"setting\">\r\n              <i class=\"el-icon-s-custom\" />个人中心\r\n            </el-dropdown-item>\r\n            <el-dropdown-item command=\"logout\" divided>\r\n              <i class=\"iconfont el-icon-mytuichu\" />退出登录\r\n            </el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n      </div>\r\n    </div>\r\n    <!-- 历史标签栏 -->\r\n    <div class=\"tabs-view-container\">\r\n      <div class=\"tabs-wrapper\">\r\n        <span\r\n          :class=\"isActive(item)\"\r\n          v-for=\"item of this.$store.state.tabList\"\r\n          :key=\"item.path\"\r\n          @click=\"goTo(item)\"\r\n        >\r\n          {{ item.name }}\r\n          <i\r\n            class=\"el-icon-close\"\r\n            v-if=\"item.path != '/'\"\r\n            @click.stop=\"removeTab(item)\"\r\n          />\r\n        </span>\r\n      </div>\r\n      <div class=\"tabs-close-item\" style=\"float:right\" @click=\"closeAllTab\">\r\n        全部关闭\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { resetRouter } from \"../../router\";\r\nexport default {\r\n  created() {\r\n    //替换面包屑导航\r\n    let matched = this.$route.matched.filter(item => item.name);\r\n    const first = matched[0];\r\n    if (first && first.name !== \"首页\") {\r\n      matched = [{ path: \"/\", name: \"首页\" }].concat(matched);\r\n    }\r\n    this.breadcrumbList = matched;\r\n    //保存当前页标签\r\n    this.$store.commit(\"saveTab\", this.$route);\r\n  },\r\n  data: function() {\r\n    return {\r\n      isSearch: false,\r\n      fullscreen: false,\r\n      breadcrumbList: []\r\n    };\r\n  },\r\n  methods: {\r\n    goTo(tab) {\r\n      //跳转标签\r\n      this.$router.push({ path: tab.path });\r\n    },\r\n    removeTab(tab) {\r\n      //删除标签\r\n      this.$store.commit(\"removeTab\", tab);\r\n      //如果删除的是当前页则返回上一标签页\r\n      if (tab.path == this.$route.path) {\r\n        var tabList = this.$store.state.tabList;\r\n        this.$router.push({ path: tabList[tabList.length - 1].path });\r\n      }\r\n    },\r\n    trigger() {\r\n      this.$store.commit(\"trigger\");\r\n    },\r\n    handleCommand(command) {\r\n      if (command == \"setting\") {\r\n        this.$router.push({ path: \"/setting\" });\r\n      }\r\n      if (command == \"logout\") {\r\n        // 调用注销接口\r\n        this.axios.post(\"/api/logout\");\r\n        // 清空用户信息\r\n        this.$store.commit(\"logout\");\r\n        this.$store.commit(\"resetTab\");\r\n        // 清空用户菜单\r\n        resetRouter();\r\n        this.$router.push({ path: \"/login\" });\r\n      }\r\n    },\r\n    closeAllTab() {\r\n      this.$store.commit(\"resetTab\");\r\n      this.$router.push({ path: \"/\" });\r\n    },\r\n    fullScreen() {\r\n      let element = document.documentElement;\r\n      if (this.fullscreen) {\r\n        if (document.exitFullscreen) {\r\n          document.exitFullscreen();\r\n        } else if (document.webkitCancelFullScreen) {\r\n          document.webkitCancelFullScreen();\r\n        } else if (document.mozCancelFullScreen) {\r\n          document.mozCancelFullScreen();\r\n        } else if (document.msExitFullscreen) {\r\n          document.msExitFullscreen();\r\n        }\r\n      } else {\r\n        if (element.requestFullscreen) {\r\n          element.requestFullscreen();\r\n        } else if (element.webkitRequestFullScreen) {\r\n          element.webkitRequestFullScreen();\r\n        } else if (element.mozRequestFullScreen) {\r\n          element.mozRequestFullScreen();\r\n        } else if (element.msRequestFullscreen) {\r\n          element.msRequestFullscreen();\r\n        }\r\n      }\r\n      this.fullscreen = !this.fullscreen;\r\n    }\r\n  },\r\n  computed: {\r\n    //标签是否处于当前页\r\n    isActive() {\r\n      return function(tab) {\r\n        if (tab.path == this.$route.path) {\r\n          return \"tabs-view-item-active\";\r\n        }\r\n        return \"tabs-view-item\";\r\n      };\r\n    },\r\n    isFold() {\r\n      return this.$store.state.collapse ? \"el-icon-s-unfold\" : \"el-icon-s-fold\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.nav-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 15px;\r\n  padding-right: 30px;\r\n  height: 50px;\r\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\r\n}\r\n.hambuger-container {\r\n  font-size: 1.25rem;\r\n  cursor: pointer;\r\n  margin-right: 24px;\r\n}\r\n.tabs-wrapper {\r\n  overflow-x: auto;\r\n  overflow-y: hidden;\r\n  white-space: nowrap;\r\n  width: 95%;\r\n}\r\n.tabs-view-container {\r\n  display: flex;\r\n  position: relative;\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  height: 33px;\r\n  background: #fff;\r\n  border-bottom: 1px solid #d8dce5;\r\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12), 0 0 3px 0 rgba(0, 0, 0, 0.04);\r\n}\r\n.tabs-view-item {\r\n  display: inline-block;\r\n  cursor: pointer;\r\n  height: 25px;\r\n  line-height: 25px;\r\n  border: 1px solid #d8dce5;\r\n  color: #495060;\r\n  background: #fff;\r\n  padding: 0 8px;\r\n  font-size: 12px;\r\n  margin-top: 4px;\r\n  margin-left: 5px;\r\n}\r\n.tabs-close-item {\r\n  position: absolute;\r\n  right: 10px;\r\n  display: inline-block;\r\n  cursor: pointer;\r\n  height: 25px;\r\n  line-height: 25px;\r\n  border: 1px solid #d8dce5;\r\n  color: #495060;\r\n  background: #fff;\r\n  padding: 0 8px;\r\n  font-size: 12px;\r\n  margin-top: 4px;\r\n  margin-left: 5px;\r\n}\r\n.tabs-view-item-active {\r\n  display: inline-block;\r\n  cursor: pointer;\r\n  height: 26px;\r\n  line-height: 26px;\r\n  padding: 0 8px;\r\n  font-size: 12px;\r\n  margin-top: 4px;\r\n  margin-left: 5px;\r\n  background-color: #42b983;\r\n  color: #fff;\r\n  border-color: #42b983;\r\n}\r\n.tabs-view-item-active:before {\r\n  content: \"\";\r\n  background: #fff;\r\n  display: inline-block;\r\n  width: 8px;\r\n  height: 8px;\r\n  border-radius: 50%;\r\n  position: relative;\r\n  margin-right: 2px;\r\n}\r\n.el-icon-close {\r\n  padding: 0.1rem;\r\n}\r\n.el-icon-close:hover {\r\n  border-radius: 50%;\r\n  background: #b4bccc;\r\n  transition-duration: 0.3s;\r\n}\r\n.right-menu {\r\n  margin-left: auto;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.el-icon-caret-bottom {\r\n  margin-left: 0.5rem;\r\n  font-size: 0.75rem;\r\n}\r\n.screen-full {\r\n  cursor: pointer;\r\n  margin-right: 1rem;\r\n  font-size: 1.25rem;\r\n}\r\n*::-webkit-scrollbar {\r\n  width: 0.5rem;\r\n  height: 6px;\r\n}\r\n*::-webkit-scrollbar-thumb {\r\n  border-radius: 0.5rem;\r\n  background-color: rgba(144, 147, 153, 0.3);\r\n}\r\n</style>\r\n"]}]}